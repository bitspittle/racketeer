title: Do Crimes
icons:
  cash: "$" # "üí∞"
  influence: "&" # "ü§ù"
  luck: "%" # "üé≤"
  undercover: "_" # "ü•∏"
  vp: "*" # "‚≠ê"
numTurns: 12
initialHandSize: 4
initialLuck: 5
initialDeck:
  - Pickpocket 5
  - Rumormonger 3
cardTypes:
  # Ordered by how they should show up on a card, NOT alphabetically necessarily
  - Action
  - Treasure
  - Thief
  - Spy
  - Legend

upgradeNames:
  cash: Dextrous
  influence: Artful
  luck: Lucky
  undercover: Undercover

tiers:
  - name: Common
    frequency: 5
  - name: Uncommon
    frequency: 4
  - name: Rare
    frequency: 3
  - name: Scarce
    frequency: 2
  - name: Legendary
    frequency: 1
shopSizes:
  - 3
  - 4
  - 5
  - 6
  - 7
shopPrices:
  - 5
  - 10
  - 15
  - 20
ratingScores:
  # Anything lower than the first score is D
  - 10 # C
  - 20 # B
  - 30 # A
  - 40 # S

globalActions:
  - def 'game-add! '$property '$amount '(game-set! $property '(+ $it $amount))
  - def 'game-sub! '$property '$amount '(game-set! $property '(- $it $amount))
  - def 'card-add! '$card '$property '$amount '(card-set! $card $property '(+ $it $amount))
  - def 'card-sub! '$card '$property '$amount '(card-set! $card $property '(- $it $amount))
  - def 'if-true '$cond '$expr '(if $cond '$expr _)
  - def 'if-false '$cond '$expr '(if $cond _ '$expr)
  - def 'stop-if! '$cond '(if $cond '(stop!) _)
  - def 'cancel-if! '$cond '(if $cond '(cancel!) _)
  - def 'ask? '$prompt '(dbg = (single (choose --prompt $prompt (list "Yes" "No") 1) _) "Yes")

cards:
  # TIER 1

  - name: Pickpocket
    types: [thief]
    flavor: |
      A scrubby urchin who pilfers coins out of the pockets of unsuspecting pedestrians.

      Gain $.
    actions:
      - game-add! 'cash 1

  - name: Rumormonger
    types: [spy]
    flavor: |
      A charismatic youth who whispers misinformation into the ears of gossiping busybodies.
      
      Gain &.
    actions:
      - game-add! 'influence 1

  - name: Con Artist
    types: [thief, spy]
    cost: 2
    flavor: Gain $. Gain &.
    actions:
      - game-add! 'cash 1
      - game-add! 'influence 1

  - name: Squealer
    types: [spy]
    cost: 2
    flavor: Gain &. Jail a card in your hand.
    actions:
      - game-add! 'influence 1
      - pile-move-to! $jail (choose $hand 1)

  - name: Fool's Gold
    types: [treasure]
    cost: 2
    flavor: Gain 3$. Jail this card.
    actions:
      - game-add! 'cash 3
      - pile-move-to! $jail $this

  - name: Croupier
    types: [thief]
    cost: 3
    flavor: Gain $. Gain %.

  # TIER 2 (i.e. 1 when 0-indexed)

  - name: Ditch the Goods
    tier: 1
    types: [action]
    cost: 2
    flavor: Discard your hand, then draw that many cards.
    actions:
      - set $to-draw (size $hand)
      - pile-move-to! $jail $hand
      - game-draw! $to-draw

  - name: Cheese It!
    tier: 1
    types: [action]
    cost: 2
    flavor: Jail your hand.
    actions:
      - pile-move-to! $jail $hand

  - name: Lady Thistledown
    tier: 1
    types: [spy, legend]
    cost: 3
    flavor: Give a Spy in your hand +1&.
    actions:
      - card-upgrade! (choose (filter $hand '(card-has-type? 'spy)) 1) 'influence

  - name: Roving Gambler
    tier: 1
    types: [thief, spy]
    cost: 3
    flavor: Gain $. Gain &. Gain %.
    actions:
      - game-add! 'cash 1
      - game-add! 'influence 1
      - game-add! 'luck 1
